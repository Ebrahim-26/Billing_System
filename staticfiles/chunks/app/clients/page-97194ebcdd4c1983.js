(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{6822:function(e,t,l){Promise.resolve().then(l.bind(l,7865))},2587:function(e,t,l){"use strict";var a=l(7437),n=l(6387),i=l(4013);l(2265);var o=l(3919),s=l(6940);t.Z=function(e){let{children:t,variant:l,startIcon:r,endIcon:d,sx:u,fontSize:c,onClick:m,disabled:h,type:f,...b}=e,x=(0,s.p)();return(0,o.a)(),(0,a.jsx)("div",{className:"w-[100%] h-[100%] ",children:(0,a.jsxs)(i.Z,{type:f,fullWidth:!0,disabled:h,onClick:m,variant:l,sx:{height:"100%",width:"100%",...u},...b,children:[r&&(0,a.jsx)("span",{style:{marginRight:0},children:r}),(0,a.jsx)(n.Z,{sx:{textTransform:"none",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",...x.b4},children:t}),d&&(0,a.jsx)("span",{style:{marginLeft:8},children:d})]})})}},3084:function(e,t,l){"use strict";var a=l(7437),n=l(2713);l(2265),t.Z=function(e){let{value:t,setValue:l,label:i,type:o,variant:s,readOnly:r=!1}=e;return(0,a.jsx)(n.Z,{type:o,onChange:e=>l(e.target.value),id:"filled-basic",label:i,variant:s,value:t||"",InputProps:{readOnly:r},sx:{width:"100%","& label":{color:"grey"},"& label.Mui-focused":{color:"black"},"& .MuiFilledInput-root":{backgroundColor:""},"& .MuiFilledInput-underline:before":{borderBottomColor:"grey"},"& .MuiFilledInput-underline:after":{borderBottomColor:"black"}}})}},7865:function(e,t,l){"use strict";l.d(t,{default:function(){return x}});var a=l(7437),n=l(2265),i=l(7485),o=l(4164),s=l(6369),r=l(6387),d=l(2700),u=l(3464),c=l(2587),m=l(3084),h=l(8004),f=l(2069),b=function(e){let{open:t,handleClose:l}=e,[i,o]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),[d,b]=(0,n.useState)(""),[x,v]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[S,j]=(0,n.useState)(""),[y,w]=(0,n.useState)(""),[Z,W]=(0,n.useState)(""),[C,_]=(0,n.useState)(""),[N,z]=(0,n.useState)(""),[k,V]=(0,n.useState)(""),[E,F]=(0,n.useState)(""),[T,B]=(0,n.useState)(),[D,I]=(0,n.useState)(""),[A,M]=(0,n.useState)(""),[P,L]=(0,n.useState)(""),[O,R]=(0,n.useState)(!1),[G,q]=(0,n.useState)(!1),H=async e=>{if(e.preventDefault(),!O){R(!0);try{let e=await u.Z.post("http://localhost:8000/api/clients/",{name:i,gst_number:s,contact_number:d,email:p,address:{line1:S,line2:y,city:Z,state:C,district:N,pincode:k},total_spend:E,business_domain:T,note:D,user:{name:A,email:P,contact_number:d}});201===e.status?window.location.reload():console.error("Error posting data")}catch(e){console.error("Error posting data:",e)}finally{R(!1)}}};return(0,a.jsx)(h.Z,{open:t,onClose:l,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsx)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-46.5%, -50%)",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,borderRadius:"10px",p:4},children:(0,a.jsxs)("form",{onSubmit:H,className:"flex flex-col w-auto p-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col p-5 border rounded-md border-slate-500 gap-4",children:[(0,a.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold"},children:"Companies Detail"}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,a.jsx)(m.Z,{label:"Name",setValue:o,value:i}),(0,a.jsx)(m.Z,{label:"GST Number",setValue:r,value:s}),(0,a.jsx)(m.Z,{label:"Contact Number",setValue:b,value:d}),(0,a.jsx)(m.Z,{label:"Email",setValue:g,value:p}),(0,a.jsx)(m.Z,{label:"Address Line 1",setValue:j,value:S}),(0,a.jsx)(m.Z,{label:"Address Line 2",setValue:w,value:y}),(0,a.jsx)(m.Z,{label:"City",setValue:W,value:Z}),(0,a.jsx)(m.Z,{label:"State",setValue:_,value:C}),(0,a.jsx)(m.Z,{label:"District",setValue:z,value:N}),(0,a.jsx)(m.Z,{label:"Pincode",setValue:V,value:k}),(0,a.jsx)(m.Z,{label:"Total Spend",type:"number",setValue:F,value:E}),(0,a.jsx)(m.Z,{label:"Note",setValue:I,value:D})]}),(0,a.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold"},children:"Client's Detail"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsx)(m.Z,{label:"Client's Name",setValue:M,value:A}),(0,a.jsx)(m.Z,{label:"Email",setValue:L,value:P}),(0,a.jsx)(m.Z,{label:"Contact Number",setValue:v,value:x})]})]}),(0,a.jsx)("div",{className:"h-[3rem]",children:(0,a.jsx)(c.Z,{type:"submit",sx:{backgroundColor:"black",color:"white"},children:"Create"})})]})})})};function x(){let[e,t]=(0,n.useState)([]),[l,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)({}),[x,v]=(0,n.useState)(!1),p=(e,t)=>async(l,a)=>{if(m(!!a&&e),a&&!h[t])try{let e=await u.Z.get("http://localhost:8000/api/clients/".concat(t,"/"),{withCredentials:!0});f(l=>({...l,[t]:{name:e.data.name,gst_number:e.data.gst_number,contact_number:e.data.contact_number,email:e.data.email,address:e.data.address,total_spend:e.data.total_spend,users_name:e.data.user.name,users_email:e.data.user.email,contact_number:e.data.user.contact_number}}))}catch(e){console.error("Error fetching data:",e),console.errors("Failed to fetch data. Please try again.")}};return(0,n.useEffect)(()=>{(async()=>{try{let e=await u.Z.get("http://localhost:8000/api/clients/",{withCredentials:!0});t(e.data)}catch(e){console.error("Error fetching data:",e)}})()},[]),(0,a.jsxs)("div",{className:"w-[50vw] border-2 border-black p-10 rounded-md shadow-2xl",children:[null==e?void 0:e.map((e,t)=>{var n,u,c,m,f,b,x,v,g,S,j,y,w,Z,W,C,_,N,z,k;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.Z,{className:"w-full ",expanded:l==="panel".concat(t),onChange:p("panel".concat(t),e.id),children:[(0,a.jsxs)(s.Z,{className:"w-full h-[5rem]",expandIcon:(0,a.jsx)(d.Z,{}),"aria-controls":"panel".concat(t,"-content"),id:"panel".concat(t,"-header"),children:[(0,a.jsx)(r.Z,{component:"span",sx:{width:"5%",fontWeight:"bold"},children:t+1}),(0,a.jsx)(r.Z,{component:"span",sx:{width:"33%",flexShrink:0,fontWeight:"bold"},children:null==e?void 0:e.name})]}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,a.jsx)("div",{className:"flex justify-around",children:[{title:"Company's Detail",details:[{label:"Name",value:null===(n=h[e.id])||void 0===n?void 0:n.name},{label:"GST Number",value:null===(u=h[e.id])||void 0===u?void 0:u.gst_number},{label:"Contact Number",value:null===(c=h[e.id])||void 0===c?void 0:c.contact_number},{label:"Email",value:null===(m=h[e.id])||void 0===m?void 0:m.email},{label:"Address",value:"".concat((null===(b=h[e.id])||void 0===b?void 0:null===(f=b.address)||void 0===f?void 0:f.line1)||"",", \n                                  ").concat((null===(v=h[e.id])||void 0===v?void 0:null===(x=v.address)||void 0===x?void 0:x.line2)||"",",\n                                  ").concat((null===(S=h[e.id])||void 0===S?void 0:null===(g=S.address)||void 0===g?void 0:g.city)||"",",\n                                  ").concat((null===(y=h[e.id])||void 0===y?void 0:null===(j=y.address)||void 0===j?void 0:j.state)||"",",\n                                  ").concat((null===(Z=h[e.id])||void 0===Z?void 0:null===(w=Z.address)||void 0===w?void 0:w.district)||"",",\n                                  ").concat((null===(C=h[e.id])||void 0===C?void 0:null===(W=C.address)||void 0===W?void 0:W.pincode)||"")},{label:"Total Spend",value:null===(_=h[e.id])||void 0===_?void 0:_.total_spend}]},{title:"Client's Detail",details:[{label:"Name",value:null===(N=h[e.id])||void 0===N?void 0:N.users_name},{label:"Email",value:null===(z=h[e.id])||void 0===z?void 0:z.users_email},{label:"Contact Number",value:null===(k=h[e.id])||void 0===k?void 0:k.contact_number}]}].map((e,t)=>(0,a.jsxs)("div",{style:{width:"45%"},children:[(0,a.jsxs)("p",{style:{fontSize:"18px",fontWeight:"bold"},children:[e.title,":"]}),(0,a.jsx)("hr",{style:{marginBottom:"5px"}}),e.details.map(e=>{let{label:t,value:l}=e;return(0,a.jsxs)("p",{style:{fontWeight:"bold"},children:[t,":"," ",(0,a.jsx)("span",{style:{fontWeight:"normal"},children:l||"N/A"})]},t)})]},t))})})})]},t)})}),(0,a.jsx)("div",{className:"mt-4 h-[3rem]",children:(0,a.jsx)(c.Z,{sx:{backgroundColor:"black",color:"white"},onClick:()=>v(!0),children:"Add new client"})}),(0,a.jsx)(b,{open:x,handleClose:()=>v(!1)})]})}},6940:function(e,t,l){"use strict";l.d(t,{p:function(){return n}});var a=l(3919);let n=()=>{let e=(0,a.a)();return{b1:{fontSize:e.fontSize.twelve,fontWeight:e.fontWeight.regular},b2:{fontSize:e.fontSize.fourteen,fontWeight:e.fontWeight.regular},b3:{fontSize:e.fontSize.sixteen,fontWeight:e.fontWeight.regular},b4:{fontSize:e.fontSize.sixteen,fontWeight:e.fontWeight.semiBold},h1:{fontSize:e.fontSize.twentyFour,fontWeight:e.fontWeight.semiBold},h2:{fontSize:e.fontSize.thirtyTwo,fontWeight:e.fontWeight.semiBold},h3:{fontSize:e.fontSize.fourtyEight,fontWeight:e.fontWeight.bold},invoiceMain:{fontSize:e.fontSize.twelve,fontWeight:e.fontWeight.bold},invoicePara:{fontSize:e.fontSize.twelve,fontWeight:e.fontWeight.regular}}}},3919:function(e,t,l){"use strict";l.d(t,{a:function(){return a}});let a=()=>({borderRadius:{two:"0.125rem",five:"0.3125rem",six:"0.375rem",eight:"0.5rem",ten:"0.625rem",twelve:"0.75rem",fifteen:"0.938rem",twentyFour:"1.5rem"},borderWidth:{xs:"1px",sm:"2px",md:"4px",lg:"8px"},boxShadow:{xs:"rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px"},fontWeight:{light:"300",regular:"400",medium:"500",semiBold:"600",bold:"700",bolder:"900"},fontStyle:{normal:"normal",italic:"italic"},fontSize:{twelve:"0.75rem",fourteen:"0.875rem",sixteen:"1rem",twentyFour:"1.4rem",thirtyTwo:"2rem",fourtyEight:"3rem"},textTransform:{default:"capitalize"}})}},function(e){e.O(0,[464,657,284,182,971,117,744],function(){return e(e.s=6822)}),_N_E=e.O()}]);